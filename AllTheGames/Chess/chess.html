<!DOCTYPE html>
<html>
	<head>

		<title>Chess... No Bots!</title>
		<style>
			body {background-color: BurlyWood;}
			img   {width:50px;}
			table, td, th {
			border: 1px solid black;
			border-collapse: collapse;}
			.blackButton {background: transparent; border: none !important; font-size:0;}
			.whiteButton {background: transparent; border: none !important; font-size:0;}
			.selectButton {background: transparent; border: none !important; font-size:0;}
			
		</style>
	</head>
	<body>

		<center>
			<table>
				<tr>
					<td class="black" id="00" bgcolor="#663300"> <button class="blackButton" id="b00" disabled onclick="move('rookBlack',0,0);"> <img src="rookBlack.png"> </button> </td>
					<td class="black" id="01"> <button class="blackButton" id="b01" disabled onclick="move('knightBlack',0,1);" > <img src="knightBlack.png"> </button> </td>
					<td class="black" id="02" bgcolor="#663300"> <button class="blackButton" id="b02" disabled onclick="move('bishopBlack',0,2);"> <img src="bishopBlack.png"> </button> </td>
					<td class="black" id="03"> <button class="blackButton" id="b03" disabled onclick="move('queenBlack',0,3);"> <img src="queenBlack.png"> </button> </td>
					<td class="black" id="04" bgcolor="#663300"> <button class="blackButton" id="b04" disabled onclick="move('kingBlack',0,4);"> <img src="kingBlack.png"> </button> </td>
					<td class="black" id="05"> <button class="blackButton" id="b05" disabled onclick="move('bishopBlack',0,5);"> <img src="bishopBlack.png"> </button> </td>
					<td class="black" id="06" bgcolor="#663300"> <button class="blackButton" id="b06" disabled onclick="move('knightBlack',0,6);"> <img src="knightBlack.png"> </button> </td>
					<td class="black" id="07"> <button class="blackButton" id="b07" disabled onclick="move('rookBlack',0,7);"> <img src="rookBlack.png"> </button> </td>
				</tr>
				<tr>
					<td class="black" id="10"> <button class="blackButton" id="b10" disabled onclick="move('pawnBlack',1,0);"> <img src="pawnBlack.png"> </button> </td>
					<td class="black" id="11" bgcolor="#663300"> <button class="blackButton" id="b11" disabled onclick="move('pawnBlack',1,1);"> <img src="pawnBlack.png"> </button> </td>
					<td class="black" id="12"> <button class="blackButton" id="b12" disabled onclick="move('pawnBlack',1,2);"> <img src="pawnBlack.png"> </button> </td>
					<td class="black" id="13" bgcolor="#663300"> <button class="blackButton" id="b13" disabled onclick="move('pawnBlack',1,3);"> <img src="pawnBlack.png"> </button> </td>
					<td class="black" id="14"> <button class="blackButton" id="b14" disabled onclick="move('pawnBlack',1,4);"> <img src="pawnBlack.png"> </button> </td>
					<td class="black" id="15" bgcolor="#663300"> <button class="blackButton" id="b15" disabled onclick="move('pawnBlack',1,5);"> <img src="pawnBlack.png"> </button> </td>
					<td class="black" id="16"> <button class="blackButton" id="b16" disabled onclick="move('pawnBlack',1,6);"> <img src="pawnBlack.png"> </button> </td>
					<td class="black" id="17" bgcolor="#663300"> <button class="blackButton" id="b17" disabled onclick="move('pawnBlack',1,7);"> <img src="pawnBlack.png"> </button> </td>
				</tr>
				<tr>
					<td class="neutral" id="20" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="21"> <img src="blank.png"> </td>
					<td class="neutral" id="22" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="23"> <img src="blank.png"> </td>
					<td class="neutral" id="24" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="25"> <img src="blank.png"> </td>
					<td class="neutral" id="26" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="27"> <img src="blank.png"> </td>
				</tr>
				<tr>
					<td class="neutral" id="30"> <img src="blank.png"> </td>
					<td class="neutral" id="31" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="32"> <img src="blank.png"> </td>
					<td class="neutral" id="33" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="34"> <img src="blank.png"> </td>
					<td class="neutral" id="35" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="36"> <img src="blank.png"> </td>
					<td class="neutral" id="37" bgcolor="#663300"> <img src="blank.png"> </td>
				</tr>
				<tr>
					<td class="neutral" id="40" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="41"> <img src="blank.png"> </td>
					<td class="neutral" id="42" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="43"> <img src="blank.png"> </td>
					<td class="neutral" id="44" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="45"> <img src="blank.png"> </td>
					<td class="neutral" id="46" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="47"> <img src="blank.png"> </td>
				</tr>
				<tr>
					<td class="neutral" id="50"> <img src="blank.png"> </td>
					<td class="neutral" id="51" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="52"> <img src="blank.png"> </td>
					<td class="neutral" id="53" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="54"> <img src="blank.png"> </td>
					<td class="neutral" id="55" bgcolor="#663300"> <img src="blank.png"> </td>
					<td class="neutral" id="56"> <img src="blank.png"> </td>
					<td class="neutral" id="57" bgcolor="#663300"> <img src="blank.png"> </td>
				</tr>
				<tr>
					<td class="white" id="60" bgcolor="#663300"> <button class="whiteButton" id="b60" onclick="move('pawnWhite',6,0);"> <img src="pawnWhite.png"> </button> </td>
					<td class="white" id="61"> <button class="whiteButton" id="b61" onclick="move('pawnWhite',6,1);"> <img src="pawnWhite.png"> </button> </td>
					<td class="white" id="62" bgcolor="#663300"> <button class="whiteButton" id="b62" onclick="move('pawnWhite',6,2);"> <img src="pawnWhite.png"> </button> </td>
					<td class="white" id="63"> <button class="whiteButton" id="b63" onclick="move('pawnWhite',6,3);"> <img src="pawnWhite.png"> </button> </td>
					<td class="white" id="64" bgcolor="#663300"> <button class="whiteButton" id="b64" onclick="move('pawnWhite',6,4);"> <img src="pawnWhite.png"> </button> </td>
					<td class="white" id="65"> <button class="whiteButton" id="b65" onclick="move('pawnWhite',6,5);"> <img src="pawnWhite.png"> </button> </td>
					<td class="white" id="66" bgcolor="#663300"> <button class="whiteButton" id="b66" onclick="move('pawnWhite',6,6);"> <img src="pawnWhite.png"> </button> </td>
					<td class="white" id="67"> <button class="whiteButton" id="b67" onclick="move('pawnWhite',6,7);"> <img src="pawnWhite.png"> </button> </td>
				</tr>
				<tr>
					<td class="white" id="70"> <button class="whiteButton" id="b70" onclick="move('rookWhite',7,0);"> <img src="rookWhite.png"> </button> </td>
					<td class="white" id="71" bgcolor="#663300"> <button class="whiteButton" id="b71" onclick="move('knightWhite',7,1);"> <img src="knightWhite.png"> </button> </td>
					<td class="white" id="72"> <button class="whiteButton" id="b72" onclick="move('bishopWhite',7,2);"> <img src="bishopWhite.png"> </button> </td>
					<td class="white" id="73" bgcolor="#663300"> <button class="whiteButton" id="b73" onclick="move('queenWhite',7,3);"> <img src="queenWhite.png"> </button> </td>
					<td class="white" id="74"> <button class="whiteButton" id="b74" onclick="move('kingWhite',7,4);"> <img src="kingWhite.png"> </button> </td>
					<td class="white" id="75" bgcolor="#663300"> <button class="whiteButton" id="b75" onclick="move('bishopWhite',7,5);"> <img src="bishopWhite.png"> </button> </td>
					<td class="white" id="76"> <button class="whiteButton" id="b76" onclick="move('knightWhite',7,6);"> <img src="knightWhite.png"> </button> </td>
					<td class="white" id="77" bgcolor="#663300"> <button class="whiteButton" id="b77" onclick="move('rookWhite',7,7);"> <img src="rookWhite.png"> </button> </td>
				</tr>
			</table>
			<p id="console"><button onclick="testMode();">Test Mode</button></p>
		</center>
	</body>
	<script>
		var count = 1;
		var oldRow = 0;
		var oldCol = 0;
		function testMode(){
			for(i = 0; i < 8; i +=1){
				document.getElementById("6" + i).className = "neutral";
				document.getElementById("6" + i).innerHTML = " <img src='blank.png'> ";
				document.getElementById("1" + i).className = "neutral";
				document.getElementById("1" + i).innerHTML = " <img src='blank.png'> ";
			}
			var testAllButtons = document.getElementsByClassName("blackButton");
			for(i = 0; i < testAllButtons.length; i+=1){
				testAllButtons[i].disabled = false;
			}
		}
		function move(piece,row,col){
			if(piece == "pawnWhite"){
				pawnMoves("white", row, col);
			}
			else if(piece == "pawnBlack"){
				pawnMoves("black", row, col);
			}	
			else if(piece == "rookWhite"){
				rookMoves("white", row, col);
			}
			else if(piece == "rookBlack"){
				rookMoves("black", row, col);
			}
			else if(piece == "knightWhite"){
				knightMoves("white", row, col);
			}
			else if(piece == "knightBlack"){
				knightMoves("black", row, col);
			}
		}
		
		function highlightSlot(piece, color, row, col, oldRow, oldCol){
			var pieceColor = "";
			if(color == "white"){pieceColor = piece + "White";}
			else{pieceColor = piece + "Black";}
			prevBr = document.getElementById("" + row + col).style.backgroundColor;
			document.getElementById("" + row + col).style.backgroundColor = "#6495ED";
			if(document.getElementById("" + row + col).innerHTML != ' <img src="blank.png"> '){
				document.getElementById("b" + row + col).disabled = false;
				document.getElementById("b" + row + col).setAttribute('onclick', "to(" + '"' + pieceColor + '"' + ", " + '"' + color + '"' +  ", " + row + ", " + col + ", " + oldRow + ", " + oldCol + ", " + '"' + prevBr + '"' + ");");
				document.getElementById("b" + row + col).className = "selectButton";
			}
			else{
				document.getElementById("" + row + col).innerHTML =
				"<button class='selectButton' onclick='to(" + '"' + pieceColor + '"' + ", " + '"' + color + '"' +  ", " + row + ", " + col + ", " + oldRow + ", " + oldCol +  ", " + '"' + prevBr + '"' + ");'> <img src='blank.png'> </button>";
			}
			
		}
		
		function to(pieceColor, color, row, col, oldRow, oldCol, prevBr){
			document.getElementById("" + row + col).innerHTML = '<button class="' + color + 'Button" id="b' + row + col + '" onclick="move(' + "'"+  pieceColor + "'" + ',' + row + ',' + col + ');"> <img src="' + pieceColor + '.png"> </button>';
			document.getElementById("" + row + col).className = color;
			document.getElementById("" + row + col).style.backgroundColor = prevBr;
			document.getElementById("" + oldRow + oldCol).innerHTML = ' <img src="blank.png"> ';
			document.getElementById("" + oldRow + oldCol).className = "neutral";
			for(r = 0; r < 8; r+=1){
				for(c = 0; c < 8; c+=1){
					if(document.getElementById("" + r + c).style.backgroundColor == "#6495ED"){
						if(r%2 == c%2){
							document.getElementById("" + r + c).style.backgroundColor = "#663300";
						}
						else{
							document.getElementById("" + r + c).style.backgroundColor = "BurlyWood";
						}
						document.getElementById("" + r + c).innerHTML = ' <img src="blank.png"> ';
					}
				}
			}
		}
		
		function pawnMoves(color, row, col){
			if(color == "white"){
				opposite = "black";
				count = 1;
				while((row - count) >= 0 && count < 3){
					if(document.getElementById("" + (row - count) + col).className == color){
						break;
					}
					else if(document.getElementById("" + (row - count) + col).className == opposite){
						highlightSlot("pawn", color, row - count, col, row, col);
						break;
					}
					else{
						highlightSlot("pawn", color, row - count, col, row, col);
					}
					count += 1;
				}
			}
			else if(color == "black"){
				opposite = "white";
				count = 1;
				while((row + count) <= 7 && count < 3){
					if(document.getElementById("" + (row + count) + col).className == color){
						break;
					}
					else if(document.getElementById("" + (row + count) + col).className == opposite){
						highlightSlot("pawn", color, row + count, col, row, col);
						break;
					}
					else{
						highlightSlot("pawn", color, row + count, col, row, col);
					}
					count += 1;
				}
			}
		}
		
		function rookMoves(color, row, col){
			if(color == "white"){opposite = "black";}
			else{opposite = "white";}
			count = 1;
			while((row - count) >= 0){ 
				if(document.getElementById("" + (row - count) + col).className == color){
					break;
				}
				else if(document.getElementById("" + (row - count) + col).className == opposite){
					highlightSlot("rook", color, row - count, col, oldRow, oldCol);
					break;
				}
				else{
					highlightSlot("rook", color, row - count, col, oldRow, oldCol);
				}
				count += 1;
			}
			count = 1;
			while((row + count) <= 7){ 
				if(document.getElementById("" + (row + count) + col).className == color){
					break;
				}
				else if(document.getElementById("" + (row + count) + col).className == opposite){
					highlightSlot("rook", color, row + count, col, oldRow, oldCol);
					break;
				}
				else{
					highlightSlot("rook", color, row + count, col, oldRow, oldCol);
				}
				count += 1;
			}
			count = 1;
			while((col - count) >= 0){ 
				if(document.getElementById("" + row + (col - count)).className == color){
					break;
				}
				else if(document.getElementById("" + row + (col - count)).className == opposite){
					highlightSlot("rook", color, row, col - count, oldRow, oldCol);
					break;
				}
				else{
					highlightSlot("rook", color, row, col - count, oldRow, oldCol);
				}
				count += 1;
			}
			count = 1;
			while((col + count) <= 7){ 
				if(document.getElementById("" + row + (col + count)).className == color){
					break;
				}
				else if(document.getElementById("" + row + (col + count)).className == opposite){
					highlightSlot("rook", color, row, col + count, oldRow, oldCol);
					break;
				}
				else{
					highlightSlot("rook", color, row, col + count, oldRow, oldCol);
				}
				count += 1;
			}
		}
		
		function knightMoves(color, row, col){
			oldRow = row;
			oldCol = col;
			if(color == "white"){opposite = "black";}
			else{opposite = "white";}
			
			if(row - 2 >= 0){
				if(col - 1 >= 0){
					if(document.getElementById("" + (row - 2) + (col - 1)).className != color){
						highlightSlot("knight", color, row - 2, col - 1, row, col);
					}
				}
				if(col + 1 <= 7){
					if(document.getElementById("" + (row - 2) + (col + 1)).className != color){
						highlightSlot("knight", color, row - 2, col + 1, row, col);
					}
				}
			}
			if(row + 2 <= 7){
				if(col - 1 >= 0){
					if(document.getElementById("" + (row + 2) + (col - 1)).className != color){
						highlightSlot("knight", color, row + 2, col - 1, row, col);
					}
				}
				if(col + 1 <= 7){
					if(document.getElementById("" + (row + 2) + (col + 1)).className != color){
						highlightSlot("knight", color, row + 2, col + 1, row, col);
					}
				}
			}
			if(row - 1 >= 0){
				if(col - 2 >= 0){
					if(document.getElementById("" + (row - 1) + (col - 2)).className != color){
						highlightSlot("knight", color, row - 1, col - 2, row, col);
					}
				}
				if(col + 2 <= 7){
					if(document.getElementById("" + (row - 1) + (col + 2)).className != color){
						highlightSlot("knight", color, row - 1, col + 2, row, col);
					}
				}
			}
			if(row + 1 <= 7){
				if(col - 2 >= 0){
					if(document.getElementById("" + (row + 1) + (col - 2)).className != color){
						highlightSlot("knight", color, row + 1, col - 2, row, col);
					}
				}
				if(col + 2 <= 7){
					if(document.getElementById("" + (row + 1) + (col + 2)).className != color){
						highlightSlot("knight", color, row + 1, col + 2, row, col);
					}
				}
			}
		}
		
		
	</script>
</html>